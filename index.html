<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/css/swiper.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/js/swiper.min.js"></script>
  <link rel="stylesheet" href="./style.css">
  <title>简历</title>
</head>

<body>
  <div class="banner">
    <div class="mask"></div>
  </div>
  <div id="topNavBer" class="topNavBer">
    <div class="logo"><span class="rs">Rs</span><span class="card">card</span></div>
    <nav>
      <ul>
        <li class="menuTrigger"><a href="#siteAbout">关于</a></li>
        <li class="menuTrigger"><a href="#siteEdu">教育经历</a></li>
        <li class="menuTrigger"><a href="#siteSkills">技能</a></li>
        <li class="menuTrigger"><a href="#siteWorks">作品</a>
          <div class="submenu">
            <ol>
              <li>作品1</li>
              <li>作品2</li>
              <li>作品3</li>
            </ol>
          </div>
        </li>
        <li class="menuTrigger"><a href="#">留言</a></li>
      </ul>
    </nav>
  </div>
  <main>
    <div data-x id="siteAbout" class="userCard">
      <div class="pictureAndText clearfix">
        <div class="picture">
          <img src="./avatar.jpg" alt="头像" width=299 height=347>
        </div>
        <div class="text">
          <span class="welcome">Hello
            <span class="triangle"></span>
          </span>
          <h1>combu</h1>
          <p>前端开发工程师</p>
          <hr>
          <dl>
            <dt>年龄</dt>
            <dd>20</dd>
            <dt>城市</dt>
            <dd>重庆</dd>
            <dt>邮箱</dt>
            <dd>146546@qq.com</dd>
          </dl>
        </div>
      </div>
      <footer>
        <a>
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-qq"></use>
          </svg></a>
        <a>
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-weixin"></use>
          </svg></a>
        <a>
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-weibo"></use>
          </svg></a>
        <a>
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-github"></use>
          </svg></a>

      </footer>
    </div>
  </main>
  <p class="download-wrapper">
    <a class="download" href="./1.png" target="_blank" download>下载 pdf 简历</a>
  </p>
  <p></p>
  <section data-x id="siteSkills" class="skills">
    <h2>技能</h2>
    <ol class="clearfix">
      <li>
        <h3>html &amp; css
        </h3>
        <div class="progressBer">
          <div class="progress">
          </div>
        </div>
        </div>
      </li>
      <li>
        <h3>jquery
        </h3>
        <div class="progressBer">
          <div class="progress">
          </div>
        </div>
        </div>
      </li>
      <li>
        <h3>javascript
        </h3>
        <div class="progressBer">
          <div class="progress">
          </div>
        </div>
        </div>
      </li>
      <li>
        <h3>node.js
        </h3>
        <div class="progressBer">
          <div class="progress">
          </div>
        </div>
        </div>
      </li>
      <li>
        <h3>vue.js
        </h3>
        <div class="progressBer">
          <div class="progress">
          </div>
        </div>
        </div>
      </li>
      <li>
        <h3>react.js
        </h3>
        <div class="progressBer">
          <div class="progress">
          </div>
        </div>
        </div>
      </li>

    </ol>
  </section>
  <section data-x id="siteWorks" class="works">
    <h2>作品</h2>
    <nav>
      <ol class="clearfix">
        <li id="worksAll">所有</li>
        <li id="worksFrame">框架的</li>
        <li id="worksNative">原生js&amp;css</li>
        <div id="worksBer" class="ber status-1">
          <div class="ber-inner"></div>
        </div>
      </ol>
      <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide img1"></div>
            <div class="swiper-slide img2"></div>
            <div class="swiper-slide img3"></div>
        </div>
        <!-- 如果需要分页器 -->
        <div class="swiper-pagination"></div>
        
        <!-- 如果需要导航按钮 -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>
    
    </nav>
    <div class="jobs">

    </div>
  </section>
  <script>        
    var mySwiper = new Swiper ('.swiper-container', {
      loop: true, // 循环模式选项
      
      // 如果需要分页器
      pagination: {
        el: '.swiper-pagination',
      },
      
      // 如果需要前进后退按钮
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },

    })        
    </script>
  </body>
</body>
<script src="//at.alicdn.com/t/font_1121514_nsfji7rz9.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/16.3.5/Tween.min.js"></script>
<script>
  worksAll.onclick = function () {
    worksBer.className = 'ber status-1'
  }
  worksFrame.onclick = function () {
    worksBer.className = 'ber status-2'
  }
  worksNative.onclick = function () {
    worksBer.className = 'ber status-3'
  }

  let specialTag = document.querySelectorAll('[data-x]')
  for(let i=0;i<specialTag.length;i++){
    specialTag[i].classList.add('offset')
  }
 findclosest()
  window.onscroll = function (x) {
    if (window.scrollY > 0) {
      topNavBer.classList.add('sticky')
    } else {
      topNavBer.classList.remove('sticky')
    }
    findclosest()  
}
function findclosest(){
  let specialTag = document.querySelectorAll('[data-x]')
  let minIndex = 0
  for(let i=1;i<specialTag.length;i++){
    if(Math.abs(specialTag[i].offsetTop-window.scrollY) < Math.abs(specialTag[minIndex].offsetTop-window.scrollY)){
      minIndex = i
    }
  }
  specialTag[minIndex].classList.remove('offset')
  let id = specialTag[minIndex].id
  let a = document.querySelector('a[href="#'+ id +'"]')
  let li = a.parentNode
  let brother = li.parentNode.children
  for(let i=0;i<brother.length;i++){
    brother[i].classList.remove('highlight')
  }
  li.classList.add('highlight')
  }
  let liTags = document.getElementsByClassName('menuTrigger')
  for (let i = 0; i < liTags.length; i++) {
    liTags[i].onmouseenter = function (x) {
      x.currentTarget.classList.add('active')
    }
    liTags[i].onmouseleave = function (x) {
      x.currentTarget.classList.remove('active')
    }
  }

  let aTags = document.querySelectorAll('div.topNavBer>nav>ul>li>a')
  function animate(time) {
    requestAnimationFrame(animate);
    TWEEN.update(time);
  }
  requestAnimationFrame(animate);
  for (let i = 0; i < aTags.length; i++) {
    aTags[i].onclick = function (x) {
      x.preventDefault()
      let a = x.currentTarget
      let href = a.getAttribute('href')
      let element = document.querySelector(href)
      let top = element.offsetTop
      let currentTop = window.scrollY //现在的位置
      let targetTop = top - 80
      let s = targetTop - currentTop
      var coords = { y: currentTop };
      let t = Math.abs((s / 100) * 300) //每移动100px耗费0.3s
      if (t > 500) { t = 500 }
      var tween = new TWEEN.Tween(coords)
        .to({ y: targetTop }, t)
        .easing(TWEEN.Easing.Quadratic.InOut)
        .onUpdate(function () {
          window.scrollTo(0, coords.y)
        })
        .start();

    }
  }
</script>

</html>